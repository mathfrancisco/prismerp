<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto">
    <h1 class="text-2xl font-bold text-gray-800 mb-6">
      {{isEditMode ? 'Edit Employee' : 'Add New Employee'}}
    </h1>

    <div *ngIf="error" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
      {{error}}
    </div>

    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Employee Number -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Employee Number</label>
          <input
            type="text"
            formControlName="employeeNumber"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
            [readonly]="isEditMode">
          <div *ngIf="employeeForm.get('employeeNumber')?.errors?.['required'] && employeeForm.get('employeeNumber')?.touched"
               class="text-red-500 text-sm mt-1">
            Employee number is required
          </div>
        </div>

        <!-- First Name -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">First Name</label>
          <input
            type="text"
            formControlName="firstName"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <div *ngIf="employeeForm.get('firstName')?.errors?.['required'] && employeeForm.get('firstName')?.touched"
               class="text-red-500 text-sm mt-1">
            First name is required
          </div>
        </div>

        <!-- Last Name -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Last Name</label>
          <input
            type="text"
            formControlName="lastName"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <div *ngIf="employeeForm.get('lastName')?.errors?.['required'] && employeeForm.get('lastName')?.touched"
               class="text-red-500 text-sm mt-1">
            Last name is required
          </div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Email</label>
          <input
            type="email"
            formControlName="email"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <div *ngIf="employeeForm.get('email')?.errors?.['required'] && employeeForm.get('email')?.touched"
               class="text-red-500 text-sm mt-1">
            Email is required
          </div>
          <div *ngIf="employeeForm.get('email')?.errors?.['email'] && employeeForm.get('email')?.touched"
               class="text-red-500 text-sm mt-1">
            Please enter a valid email
          </div>
        </div>

        <!-- Phone -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Phone</label>
          <input
            type="tel"
            formControlName="phone"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <div *ngIf="employeeForm.get('phone')?.errors?.['required'] && employeeForm.get('phone')?.touched"
               class="text-red-500 text-sm mt-1">
            Phone number is required
          </div>
        </div>

        <!-- Join Date -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Join Date</label>
          <input
            type="date"
            formControlName="joinDate"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <div *ngIf="employeeForm.get('joinDate')?.errors?.['required'] && employeeForm.get('joinDate')?.touched"
               class="text-red-500 text-sm mt-1">
            Join date is required
          </div>
        </div>

        <!-- Status -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Status</label>
          <select
            formControlName="status"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            <option *ngFor="let status of employmentStatuses" [value]="status">
              {{status}}
            </option>
          </select>
        </div>

        <!-- Department -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Department</label>
          <select
            formControlName="departmentId"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            <option *ngFor="let dept of departments" [value]="dept.id">
              {{dept.name}}
            </option>
          </select>
        </div>

        <!-- Salary -->
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700">Salary</label>
          <input
            type="number"
            formControlName="salary"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <div *ngIf="employeeForm.get('salary')?.errors?.['required'] && employeeForm.get('salary')?.touched"
               class="text-red-500 text-sm mt-1">
            Salary is required
          </div>
        </div>
      </div>

      <div class="flex justify-end space-x-4">
        <button
          type="button"
          (click)="onCancel()"
          class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
          Cancel
        </button>
        <button
          type="submit"
          [disabled]="!employeeForm.valid || loading"
          class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300">
          {{isEditMode ? 'Update' : 'Create'}}
        </button>
      </div>
    </form>
  </div>
</div>
